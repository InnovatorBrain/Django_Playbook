# ORM (Object Relational Mapper):

we use Python(Object Oriented Programming) Instead of SQL 
-Use it in views.py to manipulate data

+ ORM converts python code to SQL code(Django debugger toolbar SQL)
+ ORM is not for complex queries

### Query Sets in Objects to get database information:
import the model class 

    from store.models import Product
Apply object manager 

    query_set = Product.objects.all()
    query_set.filter().filter().count() #means any method u want to apply
    for product in query_set:
    print(product)

### Retrieving Objects
 
    query_set = Product.objects.get(pk=1)
If we want to show exceptions if the product does not exist
    
    from django.core.exceptions import ObjectDoesNotExist
    try:
    query_set = Product.objects.get(pk=0)
    except ObjectDoesNotExist:
    pass
### The Best way:
if query_set empty first return None
  
    query_set = Product.objects.filter(pk=0).first()
return boolean value if exists
    
    exists = Product.objects.filter(pk=0).exists()
    query_set = Product.objects.filter(unit_price = 0)
### Queryset API (also explore lookup type)
For logic operators use 
keyword arg = value means greater or equal
  
    query_set = Product.objects.filter(unit_price__gt=0)
    query_set = Product.objects.filter(unit_price__range=(20,50))
    return render(request, "say_hello.html", {"name": "Faizan", 'products': list(query_set)})
    @.html

      {% for product in products%}
      <#li>{{product.title}}<#/li>
      {% endfor}
.
      
    query_set = Product.objects.filter(collection__id__range=(1,2,3))
For case sensitive
    
    query_set = Product.objects.filter(title__contains='coffee')
For case insensitive

    query_set = Product.objects.filter(title__icontains='coffee')
    query_set = Product.objects.filter(title__startswith='coffee')
    query_set = Product.objects.filter(last_update__year=2021)
Getting a product that has no description
  
    query_set = Product.objects.filter(description__isnull=True)
    query_set = Product.objects.filter(inventory__lt=10, unit_price__lt=20)
OR

    Product.objects.filter(inventory__lt=10).filter(unit_price__lt=20) 
# Complex Lookups using Q objects:

    from django.db.models import Q
    query_set = Product.objects.filter(Q(inventory__lt=10) | Q(unit_price__lt=20))
    Product.objects.filter(Q(inventory__lt=10) & ~Q(unit_price__lt=20))

# Referencing fields Usinf F Objests:
To perform database operations and compare keyword arg 

    from django.db.models import F
    query_set = Product.objects.filter(inventory=F('collection__id'))

# Sorting data

    quer_yset = Product.objects.order_by('title')
    unit_price in ascending order and title in descending order 
    query_set = Product.objects.order_by('unit_price','-title')
.reverse both
    
    query_set = Product.objects.order_by('unit_price','-title').reverse()
# Limiting Results
If we want to show limited products on one page depending on one-page size 
  
    query_set = Product. objects.all()[5:10]
